# PDF Editor - タスク一覧

## Phase 1: プロジェクト初期化

- [x] 1.1 Vite + TypeScript プロジェクト作成
- [x] 1.2 依存関係インストール（pdf-lib, pdfjs-dist）
- [x] 1.3 TypeScript設定
- [x] 1.4 基本ディレクトリ構成作成

---

## Phase 2: 基盤UI構築

- [x] 2.1 CSS変数・グローバルスタイル定義
- [x] 2.2 レイアウト（Sidebar + MainView）構築
- [x] 2.3 Toolbar コンポーネント作成
- [x] 2.4 ダークモード切り替え機能

---

## Phase 3: PDF読み込み・表示

- [x] 3.1 PDFService 実装（pdf.js ラッパー）
- [x] 3.2 PDF読み込み機能
- [x] 3.3 サムネイル生成機能
- [x] 3.4 Sidebar にサムネイル一覧表示
- [x] 3.5 MainView に選択ページ表示
- [x] 3.6 ページ選択機能

---

## Phase 4: ページ操作機能

- [x] 4.1 ドラッグ＆ドロップ（PDF挿入）
- [x] 4.2 ドラッグ＆ドロップ（画像挿入）
- [x] 4.3 ImageService 実装（画像リサイズ）
- [x] 4.4 挿入位置インジケーター
- [x] 4.5 ページ削除機能
- [x] 4.6 KeyboardService 実装
- [x] 4.7 ショートカット（Ctrl/Cmd + D）

---

## Phase 5: ページ並べ替え

- [x] 5.1 サイドバーでのドラッグ並べ替え
- [x] 5.2 並べ替えアニメーション

---

## Phase 6: PDF出力

- [x] 6.1 pdf-lib でPDF生成
- [x] 6.2 ダウンロード機能
- [ ] 6.3 ファイル名入力ダイアログ（任意）

---

## Phase 7: 仕上げ

- [x] 7.1 ローディングインジケーター
- [x] 7.2 エラーハンドリング・トースト通知
- [x] 7.3 レスポンシブ対応
- [x] 7.4 README.md 作成
- [ ] 7.5 クロスブラウザテスト（任意）

---

## 進捗サマリー

| Phase | 状態 | 完了タスク |
|-------|------|-----------|
| 1. プロジェクト初期化 | ✅ 完了 | 4/4 |
| 2. 基盤UI構築 | ✅ 完了 | 4/4 |
| 3. PDF読み込み・表示 | ✅ 完了 | 6/6 |
| 4. ページ操作機能 | ✅ 完了 | 7/7 |
| 5. ページ並べ替え | ✅ 完了 | 2/2 |
| 6. PDF出力 | ✅ 完了 | 2/3 |
| 7. 仕上げ | ✅ 完了 | 4/5 |
| **合計** | **✅ 完了** | **29/31** |

---

## バグ修正履歴

- [x] PDFプレビューが表示されない問題を修正（ArrayBuffer detachment）
- [x] 画像挿入時のサイズ調整（ページサイズに合わせてスケーリング）
- [x] PDFが重複して読み込まれる問題を修正
